runs:
  using: "composite"
  steps:
    - name: Ensure that all files are properly formatted
      run: |
        FILES=$(gofmt -s -l .)
        if [ -n "${FILES}" ]; then
            printf "Following files are not formatted: \n%s" "$FILES"
            exit 1
        fi

    - name: GO vet
      run: go vet ./...

    - name: Test
      run: go test -v .

    - name: Test building
      run: go build -v .
